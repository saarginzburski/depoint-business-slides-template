/* Force exact 1:1 Legal paper printing */
@page {
  size: legal landscape;
  margin: 0;
}

@media print {
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Prevent browser from applying gray backgrounds to white elements */
  *[style*="background"],
  *[class*="bg-"] {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    height: 100% !important;
    background: white !important;
  }
  
  #root {
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* Main slide container - Legal paper 1:1 mapping */
  .slide-container {
    page-break-after: always;
    page-break-inside: avoid;
    margin: 0 !important;
    /* Preserve original padding from design */
    width: 100% !important;
    height: 100% !important;
    box-sizing: border-box !important;
    position: relative !important;
    overflow: visible !important; /* Allow content to be visible */
    display: flex !important; /* Preserve flex layout */
    flex-direction: column !important; /* Maintain column layout */
  }
  
  .slide-container:first-child {
    margin-top: 0 !important;
  }
  
  .slide-container:last-child {
    page-break-after: auto;
  }
  
  /* PrintableDeck specific overrides */
  .printable-deck-container {
    padding-top: 0 !important;
  }
  
  .printable-deck-container .slide-container:first-child {
    /* Maintain design padding for first slide */
  }
  
  /* Preserve flex and grid layouts */
  .flex {
    display: flex !important;
  }
  
  .flex-col {
    flex-direction: column !important;
  }
  
  .flex-row {
    flex-direction: row !important;
  }
  
  .justify-between {
    justify-content: space-between !important;
  }
  
  .justify-center {
    justify-content: center !important;
  }
  
  .items-center {
    align-items: center !important;
  }
  
  .items-start {
    align-items: flex-start !important;
  }
  
  .grid {
    display: grid !important;
  }
  
  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }
  
  .grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
  
  .gap-3 {
    gap: 0.75rem !important;
  }
  
  .gap-4 {
    gap: 1rem !important;
  }
  
  .gap-6 {
    gap: 1.5rem !important;
  }
  
  .gap-8 {
    gap: 2rem !important;
  }
  
  /* Preserve spacing */
  .mb-1 { margin-bottom: 0.25rem !important; }
  .mb-2 { margin-bottom: 0.5rem !important; }
  .mb-3 { margin-bottom: 0.75rem !important; }
  .mb-4 { margin-bottom: 1rem !important; }
  .mb-6 { margin-bottom: 1.5rem !important; }
  .mb-8 { margin-bottom: 2rem !important; }
  .mb-12 { margin-bottom: 3rem !important; }
  
  .p-4 { padding: 1rem !important; }
  .p-6 { padding: 1.5rem !important; }
  .p-8 { padding: 2rem !important; }
  
  .px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }
  .px-6 { padding-left: 1.5rem !important; padding-right: 1.5rem !important; }
  .py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
  .py-3 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
  
  /* Preserve widths and heights */
  .w-full { width: 100% !important; }
  .h-full { height: 100% !important; }
  .flex-1 { flex: 1 1 0% !important; }
  .flex-shrink-0 { flex-shrink: 0 !important; }
  
  /* Ensure all Lovable design elements print correctly */
  .bg-gradient-hero,
  .bg-gradient-neutral,
  .bg-gradient-primary,
  .bg-gradient-secondary {
    background-image: var(--gradient-hero, linear-gradient(135deg, #0f172a 0%, #1e40af 100%)) !important;
  }
  
  /* Remove backdrop blur and associated effects in print to prevent gray artifacts */
  .backdrop-blur-sm,
  .backdrop-blur-md,
  .backdrop-blur-lg,
  .backdrop-blur,
  .backdrop-blur-xl,
  .backdrop-blur-2xl,
  .backdrop-blur-3xl {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    border: none !important;
    background: rgba(255, 255, 255, 0.95) !important; /* Solid white background instead */
  }
  
  /* Remove ALL shadows in print to prevent gray borders */
  .shadow-2xl,
  .shadow-xl,
  .shadow-lg,
  .shadow-md,
  .shadow-sm,
  .shadow,
  .shadow-premium,
  .shadow-card,
  .shadow-enterprise,
  .shadow-hero,
  .drop-shadow-lg,
  .drop-shadow-xl,
  .drop-shadow-2xl,
  .drop-shadow {
    box-shadow: none !important;
    filter: none !important;
  }
  
  /* Typography classes - ensure proper sizing in print */
  .slide-h1 {
    font-size: var(--text-h1) !important;
    line-height: var(--leading-h1) !important;
  }
  
  .slide-h2 {
    font-size: var(--text-h2) !important;
    line-height: var(--leading-h2) !important;
  }
  
  .slide-h3 {
    font-size: var(--text-h3) !important;
    line-height: var(--leading-h3) !important;
  }
  
  .slide-body {
    font-size: var(--text-body) !important;
    line-height: var(--leading-body) !important;
  }
  
  .slide-label {
    font-size: var(--text-label) !important;
    line-height: var(--leading-label) !important;
  }
  
  .slide-data {
    font-size: var(--text-data) !important;
    line-height: var(--leading-data) !important;
  }
  
  /* Force white backgrounds to print as white */
  .bg-white,
  .bg-white\/80,
  .bg-white\/90,
  .bg-white\/95,
  [class*="bg-white"] {
    background-color: white !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Ensure colored elements print with proper contrast */
  .text-white {
    color: white !important;
  }
  
  .text-blue-100,
  .text-blue-200,
  .text-blue-300 {
    color: #dbeafe !important;
  }
  
  .text-primary-blue {
    color: hsl(var(--primary-blue)) !important;
  }
  
  .text-secondary-green {
    color: hsl(var(--secondary-green)) !important;
  }
  
  /* Background gradients and overlays */
  .bg-black\/60,
  .bg-black\/70 {
    background-color: rgba(0, 0, 0, 0.6) !important;
  }

  /* Force semi-transparent white backgrounds to be solid white in print */
  .bg-white\/10,
  .bg-white\/20,
  .bg-white\/30,
  .bg-white\/40,
  .bg-white\/50,
  .bg-white\/60,
  .bg-white\/70 {
    background-color: white !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Ensure all elements with white-based backgrounds print correctly */
  div[class*="bg-white"],
  section[class*="bg-white"],
  article[class*="bg-white"],
  .shadow-lg,
  .shadow-xl,
  .shadow-2xl,
  .shadow-card {
    background-color: white !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Remove ALL borders that appear gray in print */
  .border-white\/20,
  .border-white\/30,
  .border-white\/40,
  .border,
  .border-2,
  .border-4,
  .border-gray-200,
  .border-gray-300,
  .border-slate-200,
  .border-slate-300,
  .border-blue-200,
  .border-blue-300,
  .border-green-200,
  .border-green-300,
  .border-red-200,
  .border-red-300,
  .border-orange-200,
  .border-orange-300,
  .border-purple-200,
  .border-purple-300,
  .border-red-100,
  .border-blue-100,
  .border-slate-100,
  .border-orange-100,
  .border-purple-100,
  .border-red-700,
  .border-red-900,
  .border-subtle-orange\/30,
  .border-enterprise-green\/20,
  .border-electric-blue\/20 {
    border: none !important;
  }
  
  /* Hide print-only controls and debug info */
  .no-print {
    display: none !important;
  }
  
  /* Debug slide counter - show in print preview but hide in final print */
  .print\\:opacity-20 {
    opacity: 0.2 !important;
  }
  
  /* Ensure icons and images print correctly */
  img {
    max-width: 100% !important;
    height: auto !important;
  }
  
  /* Lucide icons - ensure they're visible in print */
  svg {
    color: inherit !important;
  }
  
  /* Remove transitions and hover effects that can cause print artifacts */
  .hover\\:shadow-xl,
  .hover\\:shadow-lg,
  .transition-shadow,
  .transition-all,
  .hover\\:border-gray-300 {
    transition: none !important;
    box-shadow: none !important;
    border: none !important;
  }
  
  /* Ensure any remaining elements with borders/shadows are cleaned up */
  div[class*="shadow"],
  div[class*="border"],
  section[class*="shadow"],
  section[class*="border"],
  article[class*="shadow"],
  article[class*="border"] {
    box-shadow: none !important;
    border: none !important;
  }
  
  /* Force clean backgrounds for all card-like elements */
  div[class*="bg-white"],
  div[class*="rounded"],
  .card,
  .panel {
    background-color: white !important;
    border: none !important;
    box-shadow: none !important;
  }
}
